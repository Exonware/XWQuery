[pytest]
# Test discovery and execution
testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Async support
asyncio_mode = auto

# Markers for test categorization (aligned with GUIDE_DEV.md priorities)
markers =
    xwlazy_core: Core functionality and integration tests
    xwlazy_unit: Unit tests for individual components
    xwlazy_integration: Integration tests across modules
    xwlazy_advance: Advance quality tests (v1.0.0+)
    xwlazy_security: Security excellence tests (Priority #1)
    xwlazy_usability: Usability excellence tests (Priority #2)
    xwlazy_maintainability: Maintainability excellence tests (Priority #3)
    xwlazy_performance: Performance excellence tests (Priority #4)
    xwlazy_extensibility: Extensibility excellence tests (Priority #5)
    slow: Slow-running tests (> 1 second)

# Test output configuration
# ?? CRITICAL: Do NOT use --disable-warnings or --maxfail=10
# These flags hide real problems and violate root cause fixing principles
addopts =
    -v
    --tb=short
    --strict-markers
    -x

# Coverage configuration (if pytest-cov is installed)
# addopts =
#     -v
#     --tb=short
#     --strict-markers
#     -x
#     --cov=exonware.xwlazy
#     --cov-report=term-missing
#     --cov-report=html

# ?? FORBIDDEN OPTIONS - DO NOT ADD THESE:
# --disable-warnings # Hides real problems!
# --maxfail=10 # Continues past failures!
# --tb=no # Hides debugging info!
# -q / --quiet # Hides important output!
# -p no:warnings # Disables warnings plugin!
# --ignore=path # Skips tests instead of fixing!

# ? ALLOWED WARNING FILTERS (specific only):
# filterwarnings =
#     error::DeprecationWarning # Treat specific warnings as errors
#     error::PendingDeprecationWarning
# Only use to PROMOTE warnings to errors, never to ignore them!

