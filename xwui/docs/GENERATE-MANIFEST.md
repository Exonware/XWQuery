# Theme Manifest Generator

The `theme-manifest.json` file is automatically generated by scanning CSS files in the styles folder and extracting metadata from header comments.

## How It Works

The generator script (`manifest-generator.ts`) scans the styles folder structure and:

1. **Reads CSS files** from:
   - `brand/*/brand.css`
   - `style/*/shadows.css`
   - `theme/colors/*.css`
   - `theme/accents/*.css`
   - `theme/roundness/*.css`
   - `theme/typography/*.css`

2. **Extracts metadata** from CSS header comments using structured annotations:
   - `@default: true/false` - Mark option as default
   - `@primary: #color` - Primary color shade
   - `@secondary: #color` - Secondary color shade
   - `@text: #color` - Text color shade
   - `@hover: #color` - Hover color shade
   - `@light: #color` - Light color shade
   - `@requiresGlassUtilities: true/false` - Glass style requirement

3. **Falls back to CSS variables** if metadata isn't in comments:
   - Extracts `--bg-primary`, `--bg-secondary`, `--text-primary` for colors
   - Extracts `--accent-primary`, `--accent-hover`, `--accent-light` for accents

4. **Generates `theme-manifest.json`** with all available theme options

## CSS File Format

Add structured metadata to your CSS file headers:

```css
/* ============================================
   TITLE - Description text here
   @default: true
   @primary: #ffffff
   @secondary: #f8f9fa
   @text: #212529
   ============================================ */

:root[data-theme="light"] {
    /* Your CSS variables here */
}
```

### Example: Color Theme

```css
/* ============================================
   LIGHT COLOR THEME - Clean and bright
   @default: true
   @primary: #ffffff
   @secondary: #f8f9fa
   @text: #212529
   ============================================ */
```

### Example: Accent Color

```css
/* ============================================
   BLUE ACCENT - Modern blue palette
   @default: true
   @primary: #4f46e5
   @hover: #4338ca
   @light: #6366f1
   ============================================ */
```

### Example: Style with Special Requirements

```css
/* ============================================
   GLASS STYLE - Shadow System with Backdrop Blur
   Apple Liquid Glass / Glassmorphism effects
   @requiresGlassUtilities: true
   ============================================ */
```

## Generating the Manifest

### Option 1: Using npm script (after compilation)

```bash
npm run generate:theme-manifest
```

### Option 2: Manual compilation and execution

```bash
# Compile the generator
tsc src/styles/manifest-generator.ts --outDir dist/styles --module ES2020 --moduleResolution node --target ES2020

# Run the compiled script
node dist/styles/manifest-generator.js
```

### Option 3: Using tsx (if installed)

```bash
npx tsx src/styles/manifest-generator.ts
```

## Output

The generator creates/updates `src/styles/theme-manifest.json` with:

- All available theme options organized by category
- Metadata extracted from CSS comments
- Color shades for UI rendering
- Default flags for theme defaults

## Adding New Theme Options

1. **Create the CSS file** in the appropriate folder:
   - Colors: `src/styles/theme/colors/mycolor.css`
   - Accents: `src/styles/theme/accents/myaccent.css`
   - etc.

2. **Add metadata to the header comment**:
   ```css
   /* ============================================
      MY COLOR - Description
      @default: false
      @primary: #ff0000
      @secondary: #cc0000
      @text: #ffffff
      ============================================ */
   ```

3. **Run the generator**:
   ```bash
   npm run generate:theme-manifest
   ```

4. **The manifest is automatically updated** - no manual JSON editing needed!

## Notes

- The generator automatically extracts color values from CSS variables if metadata isn't provided
- File names become IDs (e.g., `light.css` â†’ `"light"`)
- Folders are scanned automatically - just add CSS files and regenerate
- The manifest is sorted by ID for consistency

